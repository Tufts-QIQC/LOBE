\section{Second-Quantization}
\label{sec:theory}

In many models of quantum physics, such as quantum field theory and quantum chemistry, quantum operators are described in second-quantization \cite{Sakurai_Napolitano_2020}.
In second-quantization, multiparticle state vectors are written in terms of fermionic, antifermionic, and bosonic modes which can be occupied by different numbers of particles.
In the occupation number basis, this can be written as $\ket{n} = \ket{n_{I-1}, \dots, n_1, n_0}$ where $n_i \in \mathbb{Z}$ is the number of particles in the $i^\text{th}$ mode.

The space spanned by the second-quantized state vectors is called the \textit{Fock space} ($\mathcal{F}$) and the state vectors are referred to as \textit{Fock states}.
The Fock space is a direct sum of n-particle sectors for all n. \cite{Schwartz_2013}:
\begin{equation}
    \mathcal{F} = \oplus_n \mathcal{H}_n.
\end{equation}

In quantum field theories, field operators, rather than wavefunctions, are the main objects.
These field operators act on second-quantized states to create and annihilate particles in the field.
This action is often described in terms of ladder operators.

In second-quantization, ladder operators are quantum operators that act on fermionic, antifermionic, and bosonic modes to either increase (create) or decrease (annihilate) the number of particles occupying that mode.
Many observables of interest for these systems, such as the Hamiltonian, can be efficiently expressed as sums or products of ladder operators acting on different modes.

\subsection{Fermionic Ladder Operators}
\label{subsec:fermionic-operators}

Fermions obey the Pauli-exclusion principle \cite{pauli1925zusammenhang}.
Therefore, the occupation of a (anti)fermionic mode can only be either occupied or unoccupied.
Fermionic ladder operators only act non-trivially on the mode that the ladder operator acts upon.
This non-trivially action is defined by:
\begin{equation}
    \label{eq:fermionic-creation}
    b_i^\dagger \ket{n_{i_b}} = 
    \begin{cases} 
        (-1)^{\sum_{j < i} n_{j_b}} \ket{1}  & {\rm when} \ket{n_{i_b}} = \ket{0} \\
        0 & {\rm when} \ket{n_{i_b}} = \ket{1}
    \end{cases}
\end{equation}
where $b_i$ denotes a fermionic ladder operator on the $i^{th}$ mode, the $^\dagger$ indicates a creation operator, and $\ket{n_{i_b}}$ is the Fock state of the $i^{th}$ fermionic mode.

For a creation operator, if the mode being acted upon is unoccupied, then the creation operator ``creates" a fermion in that mode.
If the mode is already occupied before the creation operator is applied, then the operator ``zeroes-out'' the quantum state, which is indicated by setting the amplitdue of the state to zero.

The fermionic ladder operators also cause a potential sign flip determined by:
\begin{equation}
    \label{eq:parity}
    p(\psi) = (-1)^{\sum_{j < i} n_{j_b}}
\end{equation}
If the parity of the occupation of the fermionic modes with index $j < i$ is odd, then the sign of the output state is flipped.
Therefore the ordering of the modes in the encoding has an affect on the action of the operator which must be accounted for.

In the above definition, it is implied that the ladder operator acts coherently on a superposition state of the corresponding fermionic mode.
The desired action on such states is defined by linearity following the expansion of the state in the fock basis.
Throughout this work, if the action of the operator is defined by the action on particular basis states (as is done above), then it is implied that the operator will act linearly on superpositions of these basis states. 

The action of the fermionic annihilation operator is defined by:
\begin{equation}
    \label{eq:fermionic-annihilation}
    b_i \ket{n_{i_b}} = 
    \begin{cases} 
        p(\psi) \ket{0}  & {\rm when} \ket{n_{i_b}} = \ket{1} \\
        0 & {\rm when} \ket{n_{i_b}} = \ket{0}
    \end{cases}
\end{equation}
The action of the annihilation operators is opposite to that of the creation operators.
If the mode is unoccupied before the operator is applied, then the annihilation operator ``zeroes-out" the state.
If the mode is already occupied, then the annihilation operator ``annihilates" the fermion in that mode by updating the occupation of the mode to zero.

The fermionic ladder operators can be reordered arbitrarily with the introduction of additional terms due to the commutation rules.
These commutation rules are given by:
\begin{equation}
    \label{eq:fermionic-commutation}
    \begin{split}
        &\{b_i, b_j^\dagger\} = \delta_{ij}\\
        & [b_i, b_j] = [b_i^\dagger, b_j^\dagger] = 0 \\
    \end{split}
\end{equation}

In addition to fermions, antifermions are often included in quantum field theories.
The properties and commutation rules for antifermions are the same as fermions and the sign flip for antifermions includes the parity of the occupation of the fermionic modes.
Therefore, for simplicity we will treat antifermionic modes simply as fermionic modes that are indexed after all native fermionic modes for the remainder of this work.

\subsection{Bosonic Ladder Operators}
\label{subsec:bosonic-ladder}

For bosonic modes, there is no physical limitation on the occupancy of each mode: $n_{i_a} \in [0, 1, 2, \dots)$.
Hence the Hilbert space of a single bosonic mode is countably infinite dimensional. 
For discretized computations, a cutoff on the bosonic occupancy ($\Omega$) is chosen to make the dimension of the Hilbert finite: $n_{i_a} \in [0, 1, 2, \dots, \Omega]$.
The cutoff on the bosonic occupancy can introduce error as some physically allowable states become computationally inaccessible.
In practice, simulations of bosonic systems often proceed by increasing $\Omega$ until the error induced by this cutoff is either negligible or well understood.

With the imposed bosonic cutoff, the action of bosonic creation operator is defined by:
\begin{equation}
    \label{eq:bosonic-creation}
    a_i^\dagger \ket{n_{i_a}} = 
    \begin{cases} 
        \sqrt{n_{i_a} + 1} \ket{n_{i_a} + 1}  & {\rm when} \ket{n_{i_a}} \neq \ket{\Omega} \\
        0 & {\rm when} \ket{n_{i_a}} = \ket{\Omega}
    \end{cases}
\end{equation}
where $a_i$ denotes a bosonic ladder operator on the $i^{th}$ mode, the $^\dagger$ indicates a creation operator, $\ket{n_{i_a}}$ is the occupation of the $i^{th}$ bosonic mode, and $\Omega$ is the maximum number of bosons allowed in a single mode.

The bosonic creation operator increases the occupation of the bosonic mode being acted upon by $1$.
The operator will also multiply the amplitude of the state by the square-root of the updated occupancy of the mode.
If the occupancy is already at the (artificially restricted) maximum allowable occupancy, then the operator will zero-out the state.

Likewise, the bosonic annihilation operators lower the occupancy of the mode being acted upon and multiply the amplitude by the square-root of the occupancy of the mode prior to being acted upon:
\begin{equation}
    \label{eq:bosonic-annihilation}
    a_i \ket{n_{i_a}} = 
    \begin{cases} 
        \sqrt{n_{i_a}} \ket{n_{i_a} - 1}  & {\rm when} \ket{n_{i_a}} \neq \ket{0} \\
        0 & {\rm when} \ket{n_{i_a}} = \ket{0}
    \end{cases}
\end{equation}
Similarly, if the occupancy of the state is zero before the operator is applied, then the state is zeroed-out.

The commutation rules for bosonic ladder operators are given by:
\begin{equation}
    \label{eq:bosonic-commutation}
    \begin{split}
        &[a_i, a_j^\dagger] = \delta_{ij}\\
        & [a_i, a_j] = [a_i^\dagger, a_j^\dagger] = 0 \\
    \end{split}
\end{equation}
Additionally, bosonic ladder operators commute with fermionic (and antifermionic) ladder operators.

\subsection{Observables}
\label{subsec:observables}

Many observables of interest for a particular system, such as the Hamiltonian, can be expressed in terms of linear combinations of products of ladder operators that act on both fermionic and bosonic modes.

In this work, we will default to expressing operators in their \emph{mode ordered} form, which we define as an adaptation of normal ordering.
We say a term ($T$) is \textit{mode ordered} when all operators acting on a single mode are grouped next to one another and all creation operators appear to the left of all annihilation operators:
\begin{equation}
    \label{eq:mode-ordered}
    T = \Big( \prod_i (b_i^\dagger)^{\delta_{b_i}^{\dagger}} (b_i)^{\delta_{b_i}} \Big) \Big( \prod_i (a_i^\dagger)^{R_i}(a_i)^{S_i} \Big) 
\end{equation}
where $i$ indexes the respective fermionic and bosonic modes, $\delta$ takes the value $0$ or $1$ to denote if the individual ladder operator is included in ther term, and the values $R_i$ and $S_i$ are integers in the range $[0, \Omega]$ which denote the exponent of the bosonic ladder operators acting on the $i^{th}$ bosonic mode.

When ordering an operator, the commutation rules (Eq. \ref{eq:fermionic-commutation} and Eq. \ref{eq:bosonic-commutation}) must be taken into account.
These commutation relations can also introduce more terms when reordering.

As an example, second-quantized hermitian operators are often expressed in the form of linear combinations of products of ladder operators:
\begin{equation}
    \label{eq:lclo}
    H = \sum_{l=0}^{L-1} \alpha_l T_l
\end{equation}
where $L$ is the total number of terms and $\alpha_l$ are real-valued \gus{I \textit{think} we can have complex coefficients here, no?} coefficients associated with the terms $T_l$.
